---
title: 正则表达式
date: 2020-10-13 15:35:48
tags:
---

> PHP官方文档：https://www.php.net/manual/zh/book.pcre.php

写个可以匹配一下各种特殊字符的正则表达式

<!-- more -->

```
((?=[\x21-\x7e]+)[^A-Za-z0-9])
x21-\x7e]+)[^A-Za-z0-9])
```

这个匹配所有键盘上可见的非字母和数字的符号

```
var patrn = /[`~!@#$%^&amp;*()_\-+=&lt;>?:"{}|,.\/;&'\\[\]·~！@#￥%……&amp;*（）——\-+={}|《》？：“”【】、；‘&'，。、]/im; 
```
```
if (!patrn.test(str)) 
{
	// 如果包含特殊字符返回false
    return false;
}
return true;
```

废话少说，代码如下
```
[^\\S\\r\\n]
```
\ s用于查找空白字符。

空白字符可以是：空格字符,制表符,回车符,换行符,垂直制表符,换页字符,\S是\s的取反。

解读：判断这个字符，首先 不是 非空白字符（也就是空白字符），然后不是回车符和换行符。

[]结构^开头，那么三个转义字符都是 非 判断。

PHP正则中的后向引用
```php
echo preg_replace(&'/(test)(date)/&', &'${1}&', &'testdate&');
```
输出`testtest`

其中的`${1}` 也可以写作`\1`或者`\\1`,表示第一个元组。