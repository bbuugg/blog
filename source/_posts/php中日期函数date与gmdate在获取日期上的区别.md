---
title: php中日期函数date与gmdate在获取日期上的区别
date: 2022-04-23 19:27:00
tags:
---

php中的二个日期格式化函数：date()和gmdate()。

date -- 格式化一个本地时间／日期
gmdate -- 格式化一个 GMT/UTC 日期／时间，返回的是格林威治标准时（GMT）。

假如，现在所在的时区是+8，那么服务器运行以下脚本返回的时间应该为：
当前时间假定是2013-03-14 12:15:27

```
echo date('Y-m-d H:i:s', time()); 输出为：2013-03-14 12:15:27
echo gmdate('Y-m-d H:i:s', time()); 输出为：2013-03-14 04:15:27
```

以上是在Linux+Apache下运行PHP所得的结果。

在Windows下运行，则2个函数返回都是：2013-03-14 04:15:27。

基于兼容性的考虑，我们需要统一使用gmdate，并手工设置当前时区，改进后的写法如下：

```
echo gmdate('Y-m-d H:i:s', time() + 3600 * 8);
```

有了以上的代码，不管在Linux+Apache下还是Windows下都得到了正确的结果，这样写的另一个好处在于：网站用户只要设置所在的时区，程序自动根据用户设置的时区进行时间计算，数据库中信息发布时间只存当前的time()所生成的时间，那么在中国+8时区看到的发布时间是：2013-03-14 12:15:27，那么在欧洲+2时区用户看到这个信息的发布时间是：2013-03-14 06:15:27，这样信息的时间就全部对应正确了。


参考地址：https://www.cnblogs.com/kaka666/p/9744538.html