<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>apache使用笔记 - 代码笔记</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="代码笔记"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="代码笔记"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="开启模块加载SSL模块sudo a2enmod ssl sudo a2enmod http_proxysudo a2enmod proxy CGI简单配置一， CGI简介公共网关接口（Common Gateway Interface，CGI）是Web 服务器运行时外部程序的规范，按CGI 编写的程序可以扩展服务器功能。CGI 应用程序能与浏览器进行交互，还可通过数据API与数据库服务器等外部数据源"><meta property="og:type" content="blog"><meta property="og:title" content="apache使用笔记"><meta property="og:url" content="https://www.chengyao.xyz/2021/05/18/Apache%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"><meta property="og:site_name" content="代码笔记"><meta property="og:description" content="开启模块加载SSL模块sudo a2enmod ssl sudo a2enmod http_proxysudo a2enmod proxy CGI简单配置一， CGI简介公共网关接口（Common Gateway Interface，CGI）是Web 服务器运行时外部程序的规范，按CGI 编写的程序可以扩展服务器功能。CGI 应用程序能与浏览器进行交互，还可通过数据API与数据库服务器等外部数据源"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.chengyao.xyz/img/og_image.png"><meta property="article:published_time" content="2021-05-18T02:48:32.000Z"><meta property="article:modified_time" content="2022-10-05T06:53:45.303Z"><meta property="article:author" content="CY"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://www.chengyao.xyz/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.chengyao.xyz/2021/05/18/Apache%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"},"headline":"apache使用笔记","image":["https://www.chengyao.xyz/img/og_image.png"],"datePublished":"2021-05-18T02:48:32.000Z","dateModified":"2022-10-05T06:53:45.303Z","author":{"@type":"Person","name":"CY"},"publisher":{"@type":"Organization","name":"代码笔记","logo":{"@type":"ImageObject","url":"https://www.chengyao.xyz/images/avatar.jpg"}},"description":"开启模块加载SSL模块sudo a2enmod ssl sudo a2enmod http_proxysudo a2enmod proxy CGI简单配置一， CGI简介公共网关接口（Common Gateway Interface，CGI）是Web 服务器运行时外部程序的规范，按CGI 编写的程序可以扩展服务器功能。CGI 应用程序能与浏览器进行交互，还可通过数据API与数据库服务器等外部数据源"}</script><link rel="canonical" href="https://www.chengyao.xyz/2021/05/18/Apache%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?d0884aeebfcd3ca98ed3033285d6d03a";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/avatar.jpg" alt="代码笔记" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/tab-engineer"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-05-18T02:48:32.000Z" title="2021/5/18 上午10:48:32">2021-05-18</time>发表</span><span class="level-item"><time dateTime="2022-10-05T06:53:45.303Z" title="2022/10/5 下午2:53:45">2022-10-05</time>更新</span><span class="level-item">9 分钟读完 (大约1362个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">apache使用笔记</h1><div class="content"><h1 id="开启模块"><a href="#开启模块" class="headerlink" title="开启模块"></a>开启模块</h1><p>加载SSL模块<br>sudo a2enmod ssl</p>
<p>sudo a2enmod http_proxy<br>sudo a2enmod proxy</p>
<h1 id="CGI简单配置"><a href="#CGI简单配置" class="headerlink" title="CGI简单配置"></a>CGI简单配置</h1><h2 id="一，-CGI简介"><a href="#一，-CGI简介" class="headerlink" title="一， CGI简介"></a>一， CGI简介</h2><p>公共网关接口（Common Gateway Interface，CGI）是Web 服务器运行时外部程序的规范，按CGI 编写的程序可以扩展服务器功能。CGI 应用程序能与浏览器进行交互，还可通过数据API与数据库服务器等外部数据源进行通信，从数据库服务器中获取数据。格式化为HTML文档后，发送给浏览器，也可以将从浏览器获得的数据放到数据库中。几乎所有服务器都支持CGI，可用任何语言编写CGI，包括流行的Python、C、C ++、Java、VB 和Delphi 等。</p>
<span id="more"></span>

<h2 id="二，CGI-配置"><a href="#二，CGI-配置" class="headerlink" title="二，CGI 配置"></a>二，CGI 配置</h2><p>Apache2 中CGI的配置文件位于 &#x2F;etc&#x2F;apache2&#x2F;mods-available&#x2F; 中（mods-enabled “ 为常用的（也就是默认开启的）， ” mods-available “为不常用的（也就是默认不开启)）。我们只需要将mods-available文件夹中的  “ cgid.conf “, “ cgid.load “, “ cgi.load “  软连接到mods-enabled 文件夹就可以了</p>
<pre><code>sudo ln -s /etc/apache2/mods-available/cgid.conf /etc/apache2/mods-enabled/cgid.conf
sudo  ln -s /etc/apache2/mods-available/cgid.load /etc/apache2/mods-enabled/cgid.load
sudo  ln -s /etc/apache2/mods-available/cgi.load /etc/apache2/mods-enabled/cgi.load
</code></pre>
<p>修改cgi.load的内容如下（vim &#x2F;etc&#x2F;apache2&#x2F;mods-available&#x2F;cgid.load ）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LoadModule cgi_module /usr/lib/apache2/modules/mod_cgi.so     //默认有则不需要加</span><br><span class="line">AddHandler cgi-script .cgi .pl .py .sh       // 我们加入这一句，使CGI支持 perl和python 和shell脚本</span><br></pre></td></tr></table></figure>

<h2 id="三，修改默认的cgi-bin的路径"><a href="#三，修改默认的cgi-bin的路径" class="headerlink" title="三，修改默认的cgi-bin的路径"></a>三，修改默认的cgi-bin的路径</h2><blockquote>
<p>vim &#x2F;etc&#x2F;apache2&#x2F;conf-available&#x2F;serve-cgi-bin.conf</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule mod_alias.c&gt;</span><br><span class="line">    &lt;IfModule mod_cgi.c&gt;</span><br><span class="line">        Define ENABLE_USR_LIB_CGI_BIN</span><br><span class="line">    &lt;/IfModule&gt;</span><br><span class="line">    &lt;IfModule mod_cgid.c&gt;</span><br><span class="line">        Define ENABLE_USR_LIB_CGI_BIN</span><br><span class="line">    &lt;/IfModule&gt;</span><br><span class="line">    &lt;IfDefine ENABLE_USR_LIB_CGI_BIN&gt;</span><br><span class="line">        ScriptAlias /cgi-bin/ /<span class="keyword">var</span>/www/cgi-bin/</span><br><span class="line">            &lt;<span class="built_in">Directory</span> <span class="string">&quot;/var/www/cgi-bin&quot;</span>&gt;</span><br><span class="line">                AllowOverride None</span><br><span class="line">                Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch Require all granted</span><br><span class="line">            &lt;/<span class="built_in">Directory</span>&gt;</span><br><span class="line">    &lt;/IfDefine&gt;</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure>
<h2 id="四，重启Apache2-服务"><a href="#四，重启Apache2-服务" class="headerlink" title="四，重启Apache2 服务"></a>四，重启Apache2 服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service apache2 restart</span><br></pre></td></tr></table></figure>

<blockquote>
<p>参考：<a target="_blank" rel="noopener" href="http://httpd.apache.org/docs/2.4/howto/cgi.html">http://httpd.apache.org/docs/2.4/howto/cgi.html</a></p>
</blockquote>
<h1 id="substitute模块"><a href="#substitute模块" class="headerlink" title="substitute模块"></a>substitute模块</h1><p>apache 的 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;location&gt;</span><br><span class="line">&lt;/location&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Substitute https://httpd.apache.org/docs/2.4/mod/mod_substitute.html</span><br><span class="line">RewriteCond</span><br></pre></td></tr></table></figure>

<p>开启substitute 需要加载substitute和filter模块,添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AddOutputFilterByType SUBSTITUTE</span><br><span class="line">text/html</span><br><span class="line">Substitute s///[iqnf]</span><br></pre></td></tr></table></figure>

<!-- more -->

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Substitute &quot;s|((?:\&lt;\s*/body\s*\&gt;\s*)\z)|\</span><br><span class="line">     &lt;script type=\&quot;text/javascript\&quot;&gt;\</span><br><span class="line">       (function () &#123;\</span><br><span class="line">         var tagjs = document.createElement(\&quot;script\&quot;);\</span><br><span class="line">         var s = document.getElementsByTagName(\&quot;script\&quot;)[0];\</span><br><span class="line">         tagjs.async = true;\</span><br><span class="line">         tagjs.src = \&quot;//s.tag.cn/tag.js#site=1234\&quot;;\</span><br><span class="line">         s.parentNode.insertBefore(tagjs, s);\</span><br><span class="line">       &#125;());\</span><br><span class="line">     &lt;/script&gt;\</span><br><span class="line">     &lt;noscript&gt;\</span><br><span class="line">       &lt;iframe src=\&quot;//b.tag.cn/iframe?c=1234\&quot; width=\&quot;1\&quot; height=\&quot;1\&quot; frameborder=\&quot;0\&quot; scrolling=\&quot;no\&quot; marginheight=\&quot;0\&quot; marginwidth=\&quot;0\&quot;&gt;\</span><br><span class="line">     &lt;/iframe&gt;\</span><br><span class="line">     &lt;/noscript&gt;\</span><br><span class="line">     &lt;/script&gt;\</span><br><span class="line">     &lt;/body&gt;\</span><br></pre></td></tr></table></figure>

<h1 id="伪静态Rewrite详解"><a href="#伪静态Rewrite详解" class="headerlink" title="伪静态Rewrite详解"></a>伪静态Rewrite详解</h1><h2 id="一、Rewrite规则简介："><a href="#一、Rewrite规则简介：" class="headerlink" title="一、Rewrite规则简介："></a>一、Rewrite规则简介：</h2><p>Rewirte主要的功能就是实现URL的跳转，它的正则表达式是基于 Perl语言。可基于服务器级的(httpd.conf)和目录级的 (.htaccess)两种方式。如果要想用到rewrite模块，必须先安装或加载rewrite模块。方法有两种一种是编译apache的时候就直接 安装rewrite模块，别一种是编译apache时以DSO模式安装apache,然后再利用源码和apxs来安装rewrite模块。</p>
<!-- more -->

<h2 id="二、在Apache配置中启用Rewrite"><a href="#二、在Apache配置中启用Rewrite" class="headerlink" title="二、在Apache配置中启用Rewrite"></a>二、在Apache配置中启用Rewrite</h2><p>打开配置文件httpd.conf：</p>
<p>复制代码 代码如下:</p>
<p>1.启用rewrite<br># LoadModule rewrite_module modules&#x2F;mod_rewrite.so 去除前面的 #<br>2.启用.htaccess<br>在虚拟机配置项中<br>AllowOverride None    修改为： AllowOverride All</p>
<h2 id="三、Rewrite基本写法"><a href="#三、Rewrite基本写法" class="headerlink" title="三、Rewrite基本写法"></a>三、Rewrite基本写法</h2><p>服务器有配置文件不可能由我们来改，所以大多情况下要在网站的根目录下建一个.htaccess文件。</p>
<p>复制代码 代码如下:</p>
<p>RewriteEngine on    &#x2F;&#x2F;启动rewrite引擎<br>RewriteRule ^&#x2F;index([0-9]<em>).html$ &#x2F;index.php?id&#x3D;$1   &#x2F;&#x2F;“([0-9]</em>)” 代表范围 用(.<em>)代表所有，下同。<br>RewriteRule ^&#x2F;index([0-9]</em>)&#x2F;$ &#x2F;index.php?id&#x3D;$1 [R]   &#x2F;&#x2F;虚拟目录</p>
<h2 id="四、Apache-mod-rewrite规则重写的标志一览"><a href="#四、Apache-mod-rewrite规则重写的标志一览" class="headerlink" title="四、Apache mod_rewrite规则重写的标志一览"></a>四、Apache mod_rewrite规则重写的标志一览</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">1) R[=code](force redirect) 强制外部重定向</span><br><span class="line">强制在替代字符串加上http://thishost[:thisport]/前缀重定向到外部的URL.如果code不指定，将用缺省的302 HTTP状态码。</span><br><span class="line">2) F(force URL to be forbidden)禁用URL,返回403HTTP状态码。</span><br><span class="line">3) G(force URL to be gone) 强制URL为GONE，返回410HTTP状态码。</span><br><span class="line">4) P(force proxy) 强制使用代理转发。</span><br><span class="line">5) L(last rule) 表明当前规则是最后一条规则，停止分析以后规则的重写。</span><br><span class="line">6) N(next round) 重新从第一条规则开始运行重写过程。</span><br><span class="line">7) C(chained with next rule) 与下一条规则关联</span><br><span class="line">如果规则匹配则正常处理，该标志无效，如果不匹配，那么下面所有关联的规则都跳过。</span><br><span class="line">8) T=MIME-type(force MIME type) 强制MIME类型</span><br><span class="line">9) NS (used only if no internal sub-request) 只用于不是内部子请求</span><br><span class="line">10) NC(no case) 不区分大小写</span><br><span class="line">11) QSA(query string append) 追加请求字符串</span><br><span class="line">12) NE(no URI escaping of output) 不在输出转义特殊字符</span><br><span class="line">例如：RewriteRule /foo/(.*) /bar?arg=P1%3d$1 [R,NE] 将能正确的将/foo/zoo转换成/bar?arg=P1=zoo</span><br><span class="line">13) PT(pass through to next handler) 传递给下一个处理</span><br><span class="line">	例如:</span><br><span class="line">	RewriteRule ^/abc(.*) /def$1 [PT] # 将会交给/def规则处理</span><br><span class="line">	Alias /def /ghi</span><br><span class="line"></span><br><span class="line">14) S=num(skip next rule(s)) 跳过num条规则</span><br><span class="line">15) E=VAR:VAL(set environment variable) 设置环境变量</span><br></pre></td></tr></table></figure>


<h2 id="五、Apache-rewrite例子"><a href="#五、Apache-rewrite例子" class="headerlink" title="五、Apache rewrite例子"></a>五、Apache rewrite例子</h2><h3 id="例子一"><a href="#例子一" class="headerlink" title="例子一:"></a>例子一:</h3><p>同时达到下面两个要求：<br>1.用<a target="_blank" rel="noopener" href="http://www.jb51.net/xxx.php">http://www.jb51.net/xxx.php</a> 来访问 <a target="_blank" rel="noopener" href="http://www.jb51.net/xxx/">http://www.jb51.net/xxx/</a><br>2.用<a target="_blank" rel="noopener" href="http://yyy.jb51.net/">http://yyy.jb51.net</a> 来访问 <a target="_blank" rel="noopener" href="http://www.jb51.net/user.php?username=yyy">http://www.jb51.net/user.php?username=yyy</a> 的功能</p>
<p>代码如下:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">RewriteEngine On</span><br><span class="line">RewriteCond %&#123;HTTP_HOST&#125; ^www.jb51.net</span><br><span class="line">RewriteCond %&#123;REQUEST_URI&#125; !^user.php$</span><br><span class="line">RewriteCond %&#123;QUERY_STRING&#125; &quot;!^page&quot;</span><br><span class="line">RewriteCond %&#123;REQUEST_URI&#125; .php$</span><br><span class="line">RewriteRule (.*).php$ http://www.jb51.net/$1/ [R]</span><br><span class="line">RewriteCond %&#123;HTTP_HOST&#125; !^www.jb51.net</span><br><span class="line">RewriteRule ^(.+) %&#123;HTTP_HOST&#125; [C]</span><br><span class="line">RewriteRule ^([^.]+).jb51.net http://www.jb51.net/user.php?username=$1</span><br><span class="line">RewriteCond %&#123;REQUEST_FILENAME&#125; !-d</span><br><span class="line">RewriteCond %&#123;REQUEST_FILENAME&#125; !-f</span><br></pre></td></tr></table></figure>
<h3 id="例子二："><a href="#例子二：" class="headerlink" title="例子二："></a>例子二：</h3><p>代码如下:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/type.php?typeid=* –&gt; /type*.html</span><br><span class="line">/type.php?typeid=*&amp;page=* –&gt; /type*page*.html</span><br><span class="line">RewriteRule ^/type([0-9]+).html$ /type.php?typeid=$1 [PT]</span><br><span class="line">RewriteRule ^/type([0-9]+)page([0-9]+).html$ /type.php?typeid=$1&amp;page=$2 [PT]</span><br></pre></td></tr></table></figure></div><div class="article-licensing box"><div class="licensing-title"><p>apache使用笔记</p><p><a href="https://www.chengyao.xyz/2021/05/18/Apache使用笔记/">https://www.chengyao.xyz/2021/05/18/Apache使用笔记/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>CY</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-05-18</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2022-10-05</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="sharethis-inline-share-buttons"></div><script src="https://www.chengyao.xyz" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/images/alipay.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/images/wechat.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/05/29/golang%E4%B8%AD%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8F%98%E9%87%8F%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%9F/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">golang中如何获取变量的类型？</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/05/16/%E9%AB%98%E5%B9%B6%E5%8F%91%E4%B8%8B%E9%98%B2%E6%AD%A2%E5%BA%93%E5%AD%98%E8%B6%85%E5%8D%96%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"><span class="level-item">高并发下防止库存超卖的解决方案</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://www.chengyao.xyz/2021/05/18/Apache%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/';
            this.page.identifier = '2021/05/18/Apache使用笔记/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'chengyao' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/images/avatar.jpg" alt="程"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">程</p><p class="is-size-6 is-block">未至精疲力尽，不要怨天尤人。昨日因，今日果。今日为，明日果！</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">163</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/tab-engineer" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/tab-engineer"><i class="fab fa-github"></i></a></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#开启模块"><span class="level-left"><span class="level-item">1</span><span class="level-item">开启模块</span></span></a></li><li><a class="level is-mobile" href="#CGI简单配置"><span class="level-left"><span class="level-item">2</span><span class="level-item">CGI简单配置</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#一，-CGI简介"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">一， CGI简介</span></span></a></li><li><a class="level is-mobile" href="#二，CGI-配置"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">二，CGI 配置</span></span></a></li><li><a class="level is-mobile" href="#三，修改默认的cgi-bin的路径"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">三，修改默认的cgi-bin的路径</span></span></a></li><li><a class="level is-mobile" href="#四，重启Apache2-服务"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">四，重启Apache2 服务</span></span></a></li></ul></li><li><a class="level is-mobile" href="#substitute模块"><span class="level-left"><span class="level-item">3</span><span class="level-item">substitute模块</span></span></a></li><li><a class="level is-mobile" href="#伪静态Rewrite详解"><span class="level-left"><span class="level-item">4</span><span class="level-item">伪静态Rewrite详解</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#一、Rewrite规则简介："><span class="level-left"><span class="level-item">4.1</span><span class="level-item">一、Rewrite规则简介：</span></span></a></li><li><a class="level is-mobile" href="#二、在Apache配置中启用Rewrite"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">二、在Apache配置中启用Rewrite</span></span></a></li><li><a class="level is-mobile" href="#三、Rewrite基本写法"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">三、Rewrite基本写法</span></span></a></li><li><a class="level is-mobile" href="#四、Apache-mod-rewrite规则重写的标志一览"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">四、Apache mod_rewrite规则重写的标志一览</span></span></a></li><li><a class="level is-mobile" href="#五、Apache-rewrite例子"><span class="level-left"><span class="level-item">4.5</span><span class="level-item">五、Apache rewrite例子</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#例子一"><span class="level-left"><span class="level-item">4.5.1</span><span class="level-item">例子一:</span></span></a></li><li><a class="level is-mobile" href="#例子二："><span class="level-left"><span class="level-item">4.5.2</span><span class="level-item">例子二：</span></span></a></li></ul></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/avatar.jpg" alt="代码笔记" height="28"></a><p class="is-size-7"><span>&copy; 2022 CY</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>